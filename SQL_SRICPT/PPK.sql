

--------------------------------------10/6/2020----------------------------------
----------------------TBLRUJPEJABAT - Majlis Agama Islam

SET DEFINE OFF;
Insert into TBLRUJPEJABAT
   (ID_NEGERI, ID_DAERAH, ID_SEKSYEN, ID_JENISPEJABAT, KOD_PEJABAT, NAMA_PEJABAT, ALAMAT1, ALAMAT2, POSKOD, NO_TEL, NO_FAX, JAWATAN, ID_MASUK, TARIKH_MASUK, ID_BANDAR)
 Values
   (4, 38, 2, 61, '01', 'Majlis Agama Islam Melaka', 'Pusat Islam Melaka', 'Bukit Palah', '75400', '06-2836867', '06-2834022', 'Pengerusi', 1, TO_DATE('12/04/2009 16:13:04', 'MM/DD/YYYY HH24:MI:SS'), 108);
Insert into TBLRUJPEJABAT
   (ID_NEGERI, ID_DAERAH, ID_SEKSYEN, ID_JENISPEJABAT, KOD_PEJABAT, NAMA_PEJABAT, ALAMAT1, ALAMAT2, POSKOD, NO_TEL, NO_FAX, JAWATAN, ID_MASUK, TARIKH_MASUK, TARIKH_KEMASKINI, ID_BANDAR)
 Values
   (2, 16, 2, 61, '01', 'Majlis Agama Islam Kedah', 'Bangunan Wan Mat Saman', 'Jalan Raja', '05767', '04-7333288', '04-7338333', 'Setiausaha', 1, TO_DATE('12/04/2009 16:16:28', 'MM/DD/YYYY HH24:MI:SS'), TO_DATE('12/21/2017 15:51:53', 'MM/DD/YYYY HH24:MI:SS'), 47);
Insert into TBLRUJPEJABAT
   (ID_NEGERI, ID_DAERAH, ID_SEKSYEN, ID_JENISPEJABAT, KOD_PEJABAT, NAMA_PEJABAT, ALAMAT1, ALAMAT2, POSKOD, NO_TEL, NO_FAX, JAWATAN, ID_MASUK, TARIKH_MASUK, ID_BANDAR)
 Values
   (8, 64, 2, 61, '01', 'Majlis Agama Islam Perak', 'Tingkat 5, Kompleks Islam Darul Ridzuan', 'Jalan Panglima Bukit Gantang Wahab', '30000', '05-2558148', '05-2555512', 'Yang Dipertua', 1, TO_DATE('12/04/2009 16:22:54', 'MM/DD/YYYY HH24:MI:SS'), 226);
Insert into TBLRUJPEJABAT
   (ID_NEGERI, ID_DAERAH, ID_SEKSYEN, ID_JENISPEJABAT, KOD_PEJABAT, NAMA_PEJABAT, ALAMAT1, POSKOD, NO_TEL, NO_FAX, JAWATAN, ID_MASUK, TARIKH_MASUK, ID_BANDAR)
 Values
   (5, 44, 2, 61, '01', 'Majlis Agama Islam Negeri Sembilan Darul Khusus', 'Karung Berkunci no. 3', '30000', '06-7620642', '06-7620648', 'Setiausaha', 1, TO_DATE('12/04/2009 16:35:03', 'MM/DD/YYYY HH24:MI:SS'), 136);
Insert into TBLRUJPEJABAT
   (ID_NEGERI, ID_DAERAH, ID_SEKSYEN, ID_JENISPEJABAT, KOD_PEJABAT, NAMA_PEJABAT, ALAMAT1, ALAMAT2, POSKOD, NO_TEL, NO_FAX, JAWATAN, ID_MASUK, TARIKH_MASUK, ID_BANDAR)
 Values
   (10, 37, 2, 61, '01', 'Majlis Agama Islam Selangor', 'Tingkat 9, Menara Utara', 'Bangunan Sultan Idris Shah', '43000', '03-55143400', '03-55124042', 'Setiausaha', 1, TO_DATE('12/04/2009 16:42:59', 'MM/DD/YYYY HH24:MI:SS'), 321);
Insert into TBLRUJPEJABAT
   (ID_NEGERI, ID_DAERAH, ID_SEKSYEN, ID_JENISPEJABAT, KOD_PEJABAT, NAMA_PEJABAT, ALAMAT1, POSKOD, NO_TEL, NO_FAX, JAWATAN, ID_MASUK, TARIKH_MASUK, ID_BANDAR)
 Values
   (7, 61, 2, 61, '01', 'Majlis Agama Islam Pulau Pinang dan Seberang Perai', 'Leboh Pantai', '10300', '04-2612500', '04-2633133', 'Yang Dipertua', 1, TO_DATE('12/04/2009 16:47:24', 'MM/DD/YYYY HH24:MI:SS'), 199);
Insert into TBLRUJPEJABAT
   ( ID_NEGERI, ID_DAERAH, ID_SEKSYEN, ID_JENISPEJABAT, KOD_PEJABAT, NAMA_PEJABAT, ALAMAT1, POSKOD, NO_TEL, NO_FAX, JAWATAN, ID_MASUK, TARIKH_MASUK, ID_BANDAR)
 Values
   (1, 2, 2, 61, '01', 'Majlis Agama Islam Johor', 'Aras 5, Kompleks Islam Johor K/B 725', '80990', '07-2243522', '07-2239062', 'Ketua Pegawai Kerja', 1, TO_DATE('12/04/2009 16:50:32', 'MM/DD/YYYY HH24:MI:SS'), 14);
Insert into TBLRUJPEJABAT
   (ID_NEGERI, ID_DAERAH, ID_SEKSYEN, ID_JENISPEJABAT, KOD_PEJABAT, NAMA_PEJABAT, ALAMAT1, ALAMAT2, POSKOD, NO_TEL, NO_FAX, JAWATAN, ID_MASUK, TARIKH_MASUK, ID_BANDAR)
 Values
   (3, 29, 2, 61, '01', 'Majlis Agama Islam dan Adat Istiadat Melayu Kelantan', 'Balai Islam', 'Jalan Sultan Yahya Petra, Lundang', '01000', '09-7481512', '09-7444393', 'Yang Dipertua', 1, TO_DATE('12/04/2009 16:56:41', 'MM/DD/YYYY HH24:MI:SS'), 87);
Insert into TBLRUJPEJABAT
   (ID_NEGERI, ID_DAERAH, ID_SEKSYEN, ID_JENISPEJABAT, KOD_PEJABAT, NAMA_PEJABAT, ALAMAT1, ALAMAT2, ALAMAT3, POSKOD, NO_TEL, NO_FAX, JAWATAN, ID_MASUK, TARIKH_MASUK, TARIKH_KEMASKINI, ID_BANDAR)
 Values
   (14, 121, 2, 61, '01', 'Majlis Agama Islam Wilayah Persekutuan', 'UNIT PENGURUSAN ZAKAT FITRAH DAN SUMBER AM', 'Bahagian Baitulmal , Majlis Agama Islam Wilayah Persekutuan', 'aras 19 bangunan perkim, no 150 jalan sultan azlan shah', '51200', '03-40479444', '03-40440818', 'Yang Dipertua', 1, TO_DATE('12/04/2009 16:59:11', 'MM/DD/YYYY HH24:MI:SS'), TO_DATE('05/17/2018 12:41:45', 'MM/DD/YYYY HH24:MI:SS'), 422);
COMMIT;

--------------------------------20200206------------------------------------------------

28042020--------------------------------------------------------------------------------
--ALTER TABLE TBLPPKDOKUMENSIMATI RENAME COLUMN ID_RUJUKAN TO NO_RUJUKAN;

15042020--------------------------------------------------------------------------------
--ALTER TABLE TBLPPKDOKUMENSIMATI ADD (NO_RUJUKAN VARCHAR2(30));

06022020--------------------------------------------------------------------------------

--DROP TRIGGER PPKDOKUMENSIMATI_BI;
-- 2020/04/13 (ekptghqfat)

CREATE OR REPLACE TRIGGER PPKDOKUMENSIMATI_BI    
before insert on     TBLPPKDOKUMENSIMATI    for each row
begin    if :new.ID_DOKUMEN   is null    then SELECT (SELECT kod_negeri FROM tbllookupstate) || TO_CHAR (SYSDATE, 'YY') || PPKDOKUMENSIMATI_SEQ.NEXTVAL into :new.ID_DOKUMEN          from dual;    end if;    end;
/

+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
--06/02/2020 
--DROP SEQUENCE PPKDOKUMENSIMATI_SEQ;

-- 2020/04/13 (ekptghqfat)
CREATE SEQUENCE PPKDOKUMENSIMATI_SEQ
  START WITH 1
  MAXVALUE 999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  NOORDER;
  
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 
-- 2020/04/13 (ekptghqfat)
ALTER TABLE TBLPPKDOKUMENSIMATI ADD CONSTRAINT PPKDOKUMENSIMATI_PK PRIMARY KEY (ID_DOKUMEN) ENABLE;

CREATE TABLE TBLPPKDOKUMENSIMATI (
	ID_DOKUMEN NUMBER(16,0),
	ID_SIMATI NUMBER(16,0),
	ID_JENISDOKUMEN NUMBER(16,0),
	NO_RUJUKAN VARCHAR2(30),
	NAMA_DOKUMEN VARCHAR2(200),
	FORMAT VARCHAR2(100),
	SAIZ NUMBER(16,0),
	KANDUNGAN BLOB,
	TARIKH_MASUK DATE,
	ID_MASUK NUMBER(16,0),
	TARIKH_KEMASKINI DATE,
	ID_KEMASKINI NUMBER(16,0)
);

SELECT * FROM TBLPPKDOKUMENSIMATI
